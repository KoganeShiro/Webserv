
#   Port and host for each server
#   Server names (optional)
#   Default server for each host:port combination

#   Setup default error pages

#   Specify the maximum allowed client body size

#   List of accepted HTTP methods for each route
#   HTTP redirections
#   Root directory or file path for each route
#   Directory listing option (on/off)
#   Default file for directory requests
#   CGI execution settings based on file extensions
#   POST and GET method handling
#   File upload settings and save locations

#   Full path as PATH_INFO
#   Handling of chunked requests
#   Content-Length handling for CGI output
#   CGI execution directory

# Server Configuration
server {
    host 127.0.0.1;
    port 8080;
    server_name web_serv42.com;

    # Error Pages
    error_page template /html_page/error_page/index.html;

    # Client Body Size Limit
    client_max_body_size 10M;

    # Routes
    location / {
        root /html_page/www/html;
        index index.html;
        allowed_methods GET POST DELETE;
    }

    location /uploads {
        root /html_page/www/uploads;
        upload_store /html_page/www/uploads;
        allowed_methods POST;
    }

    location /cgi-bin {
        root cgi-bin;
        cgi_pass .php;
        allowed_methods GET POST DELETE;
    }

    # Redirections TO BE CHANGED
    location /old-page {
        return 301 /new-page;
    }
}

# CGI Configuration TO BE CHANGED
cgi {
    cgi_path /usr/bin/php-cgi;
    cgi_timeout 30;
}
